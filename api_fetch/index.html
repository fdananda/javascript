<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="styles.css">
  <title></title>
</head>
<body>
  <h1>Fetch API</h1>
  <p>O método <strong>fetch()</strong> inicia o processo de busca de um recurso de um servidor e retorna um Promise com um objeto Response.<p>
    <button onclick="obterDadosWeb('https://www.soccerincanada.ca/wp-json/wp/v2/posts/1822/')" id="botao">Clique aqui para chamar o exemplo abaixo</button><p>
    <p id="exemplos"></p>

    <div class="exemplo">
<pre>
function obterDadosWeb(url){

  fetch(url).then(response => {
      if(!response.ok){
        alert("Falha no processamento!")
        return
      }
      response.json().then(resposta => {
        let saida = document.getElementById("exemplos")
        saida.innerHTML = `
        JSON convertido a partir da internet - id: ${resposta.id}<br>
        JSON convertido a partir da internet - date: ${resposta.date}<br>
        JSON convertido a partir da internet - title: ${resposta.title.rendered}<br>
        JSON convertido a partir da internet - link: ${resposta.link}<br>
        `
      }).catch(erro => alert("Erro de JSON: " + erro))
    }).catch(erro => alert("Erro na busca: " + erro))
}
</pre>
    </div>
  <p class="referencia">Referência: <a href="https://www.w3schools.com/jsref/api_fetch.asp" target="_blank">www.w3schools</a></p>
  <script type="text/javascript" src="script.js"></script>
</body>
</html>